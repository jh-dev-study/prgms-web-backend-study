## [`프로그래머스`] 웹 백엔드 시스템 구현(Spring Boot) 3주차
  - 2021.01.21 20:35 ~ 10:35
  
  <br><br>
  
### 2주차 내용정리
  - HealthCheck ... ApiReuslt 매퍼클래스를 통해 제네릭의 Long 타입
  - Timestamp: System.currentTimeMillis() 호출이 가장 간단한 방법
  - name 추가에 대한 Validation 추가가 핵심 포인트
    - length 체크도 해야함
    - sql schema에서 해당 컬럼의 길이를 VARCHAR(10) 로 설정하므로, 길이 설정을 해주어야 함
    - 로직적으로 문제는 없으나, 서버 입장에서 봤을때는 길이체크가 없을경우 모든 자원을 소모하므로 앞단에서 막아주는게 좋음
    - 외부에서 입력되는 데이터든 어떠한 데이터든 간에 정확한 데이터가 넘어왔는지 **Validation** 을 해주는게 중요함!!
    - 정규식 표현 중요함! [`정규식 연습 사이트`]
  - 의존성 주입은 생성자 주입이 가능하면 좋으나, 상황에 따라 유연하게 변경할 수 있음
  - 테스트를 작성하는 방법(노하우)
    - ★ 무엇을 테스트 해야 할까 ??
    - ★ 어디까지 테스트 할것인가 ??
    - IntCalculator의 핵심 로직은 add()메서드, minus() 메서드
    - 하지만 어떻게 테스트를 할 지 고려하기
    - intFactory1, intFactory2를 먼저 테스트 해야 할까?
      - intFactory1,2 변수는 테스트 고려 대상이 아님!!
    - IntCalculator 입장에서 IntFactory 에 대한 관심은 없음
    - IntFactory가 어떠한 방식으로 숫자를 가지오든 관심이 없고, 비즈니스 로직(메서드)에만 관심이 있음
    - 생성자 주입은 테스트하기가 쉬움!!
    - mock(mocking) 프레임워크
    - 테스트코드의 결과값이 틀리거나 해도 테스트코드를 디버깅 할 수 있음
    - 테스트 코드 작성은 매우매우 중요함!!!
    - 실제 비지니스 로직과 테스트 코드는 거의 1:1 대응될 만큼 꼼꼼하게 하려고 노력함
  
  
  <br><br>
  
### 3주차 내용정리
  - Swagger 소개
      - Spring을 통해 REST API를 만들때, 문서화를 만들 수 있는 방법 중 하나
      - 백엔드 개발자와 프론트엔드 개발자 사이의 커뮤니케이션 비용 절감
      - 수십~수백개의 API를 하나하나 말로 설명하는 것은 불가능
      - API를 문서화 해주고, 실제 API를 호출하고 결과를 확인할 수 있음
      - 소스코드 빌드시 문서가 자동으로 생성되므로 가장 큰 장점임
      - 변경의 이력관리가 안되고, 코드가 침투적인 단점이 있음
    - 객체 모델링 방법
      - 시작은 객체 모델을 수정 불가능 하도록 Immutable 상태로 만듬(final)
      - 객체 모델에 필요한 행동(Method)이 무엇인지 고민하고 점직적으로 Immutable을 제거해갈 것
      - equals, hashcode, toString 구현을 꼼꼼하게 함!!
      - 불필요한 생성자를 노출시키지 말자.
      - 생성 인자 갯수가 많아지면 빌더 패턴을 고려하라(이펙티브자바 참고)
      - 값이 변하는 속성은 final 키워드를 제거하고 값을 변경할 수 있는 메서드를 추가하거나, 빌더패턴을 통해 변경
      - ★★★★★ 가능한 모든 사용자 입력은 유효성 검사를 실시할 것
        - 원칙적으로는 Controller, Service, Repository 레이어 모두에서 입력값 검사를 해야함
          - 비슷한 검증 로직이 반복되고, 관리가 어려워짐
        - 우선순위는 Controller 보다는 **Service** 레이어에서 입력값 검증이 좋음
        - 보다 좋은 방법은Model 생성자에서 입력값 검증을 수행하는 것이 좋음!!
        - 정리하자면, 1. Model 생성자 2. Service 레이어 3. Controller 레이어는 해도좋고 안해도 괜찮음
    - Optional 소개
      - Optional은 해당 값이 null일수도, 아닐수도 있음을 의미함
      - Optional은 스트림, 람다와 함께 사용하기 위해 설계된 문법
    - 키워드? Validation, Optional, Stream, Lambda
  
  
  
[`프로그래머스`]: https://programmers.co.kr/learn/courses/11186  
[`정규식 연습 사이트`]: https://regex101.com/
